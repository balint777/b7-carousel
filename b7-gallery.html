<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="b7-gallery">
  <template>
    <style is="custom-style" include="iron-flex iron-flex-alignment">
      :host {
        @apply --layout-horizontal;
      }
      ::-webkit-scrollbar { 
          display: none; 
      }
      .track {
        overflow-x: scroll;
        align-items: center;
        justify-content: space-between;  
      }
      ::slotted(img) {
        height: 100%;
      }
    </style>
    <button on-click="_prev">L</button>
    <div class="track flex layout horizontal">
      <slot></slot>
    </div>
    <button on-click="_next">R</button>
  </template>

  <script>
    'use strict';
    /**
     * `b7-gallery`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class B7Gallery extends Polymer.Element {
      static get is() { return 'b7-gallery'; }
      static get properties() {
        return {
          current: {
            type: Number
          }
        };
      }

      connectedCallback()
      {
        super.connectedCallback();
        this.current = 0;
      }

      _next()
      {
        if (this.current < this.children.length - 1) this.current ++;

        this.children[this.current].scrollIntoView({
          behavior: "smooth",
          block: "start",
          inline: "start"
        });
      }

      _prev()
      {
        if (this.current > 0) this.current --;
        
        this.children[this.current].scrollIntoView({
          behavior: "smooth",
          block: "end",
          inline: "end"
        });
      }
    }

    window.customElements.define(B7Gallery.is, B7Gallery);
  </script>
</dom-module>
